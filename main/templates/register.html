{% extends 'base.html' %}

{% block meta %}

<title>Register - Football Shop</title>
{% endblock meta %}

{% block content %}

<div class="min-h-screen bg-[#121212] flex items-center justify-center p-8">
  <div class="max-w-md w-full relative z-10">
    <div class="bg-[#1e1e1e] border border-[#333] rounded-lg p-8 shadow-md">
      <div class="text-center mb-8">
        <h2 class="text-2xl font-semibold text-purple-400 mb-2">Join Us</h2>
        <p class="text-gray-400">Create your Football Shop account</p>
      </div>

  <!-- Form Errors Display -->
  {% if form.non_field_errors %}
    <div class="mb-6">
      {% for error in form.non_field_errors %}
        <div class="px-4 py-3 rounded text-sm border bg-red-900/40 border-red-500 text-red-300">
          {{ error }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  {% if form.errors %}
    <div class="mb-6">
      {% for field, errors in form.errors.items %}
        {% if field != '__all__' %}
          {% for error in errors %}
            <div class="px-4 py-3 rounded text-sm border bg-red-900/40 border-red-500 text-red-300 mb-2">
              <strong>{{ field|title }}:</strong> {{ error }}
            </div>
          {% endfor %}
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}

  <form method="POST" action="" class="space-y-5">
    {% csrf_token %}
    
    <div>
      <label for="username" class="block text-sm font-medium text-gray-300 mb-2">Username</label>
      <input 
        id="username" 
        name="username" 
        type="text" 
        required 
        class="w-full px-4 py-3 border border-[#444] bg-[#2a2a2a] text-gray-100 rounded focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500 transition duration-200" 
        placeholder="Choose a username">
    </div>

    <div>
      <label for="password1" class="block text-sm font-medium text-gray-300 mb-2">Password</label>
      <input 
        id="password1" 
        name="password1" 
        type="password" 
        required 
        class="w-full px-4 py-3 border border-[#444] bg-[#2a2a2a] text-gray-100 rounded focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500 transition duration-200" 
        placeholder="Create a password">
    </div>

    <div>
      <label for="password2" class="block text-sm font-medium text-gray-300 mb-2">Confirm Password</label>
      <input 
        id="password2" 
        name="password2" 
        type="password" 
        required 
        class="w-full px-4 py-3 border border-[#444] bg-[#2a2a2a] text-gray-100 rounded focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500 transition duration-200" 
        placeholder="Confirm your password">
    </div>

    <button 
      type="submit" 
      class="w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 text-white font-medium py-3 px-4 rounded hover:from-indigo-500 hover:via-purple-500 hover:to-blue-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-[#121212] transition duration-200">
      Create Account
    </button>
  </form>

  <!-- Messages Display -->
  {% if messages %}
    <div class="mt-6">
      {% for message in messages %}
        <div 
          class="
            px-4 py-3 rounded text-sm border
            {% if message.tags == 'success' %}
              bg-green-900/40 border-green-500 text-green-300
            {% elif message.tags == 'error' %}
              bg-red-900/40 border-red-500 text-red-300
            {% else %}
              bg-[#2a2a2a] border-[#444] text-gray-300
            {% endif %}
          ">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <div class="mt-6 text-center">
    <p class="text-gray-400 text-sm">
      Already have an account? 
      <a href="{% url 'main:login' %}" class="text-purple-400 hover:text-purple-300 font-medium">
        Sign In
      </a>
    </p>
  </div>
</div>

  </div>
</div>
{% endblock content %}
